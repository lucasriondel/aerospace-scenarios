name: Godot + Cursor Dual
workspaces:
  - name: Main
    id: 5
  - name: Second
    id: 6
windows:
  - name: Godot
    find:
      type: app
      app: Godot
  - name: CursorGodotProj
    find:
      type: app_and_project
      app: Cursor
      project: ~/dev/godot
scenarios:
  multi_monitor:
    when:
      monitors:
        op: gt
        value: 1
    commands:
      - aerospace move-node-to-workspace --window-id {window:Godot} {workspace:Second}
      - aerospace move-node-to-workspace --window-id {window:CursorGodotProj} {workspace:Main}
      - aerospace workspace {workspace:Second}
      - aerospace workspace {workspace:Main}
  single_monitor:
    when:
      monitors:
        op: eq
        value: 1
    commands:
      - aerospace move-node-to-workspace --window-id {window:Godot} {workspace:Main}
      - aerospace move-node-to-workspace --window-id {window:CursorGodotProj} {workspace:Main}
      - aerospace layout --window-id {window:Godot} accordion
      - aerospace layout --window-id {window:CursorGodotProj} accordion
      - aerospace workspace {workspace:Main}
